<div id="out"></div>

<script src="//code.jquery.com/jquery-1.12.0.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/core-js/2.1.4/core.min.js"></script>
<script type="text/javascript" src="//unpkg.com/feathers-client@^1.0.0/dist/feathers.js"></script>


<script type="text/javascript">
$(function() {
  var host = 'http://localhost:3030';

  // Set up Feathers client side
  var app = feathers()
    .configure(feathers.rest(host).jquery(jQuery))
    .configure(feathers.hooks())
    .configure(feathers.authentication({ storage: window.localStorage }));

  
  var userService = app.service('/users');
  userService.create({phone:'9135292926'})
    .then(res => console.log(res));
  

  // Authenticate. Normally you'd grab these from a login form rather than hard coding them
  /*
  var invoiceService = app.service('invoices');
  var paymentService = app.service('payments');

  app.authenticate({
    type: 'local',
    'phone': '9135292927',
    'password': 'gopesa'
  })
  .then(result => {

    console.log('Authenticated!', app.get('token'))
    

    paymentService.find().then(res => console.log(res));

    /*
    paymentService.create({
      type: 'card',
      account: '12344543545345'
    }).then(function(res) {
      console.log(res);
    }).catch(function (err){
      console.log(err);
    });
    */

    /*
    invoiceService.find({
        query: {
          from: '9135292926',
          $sort: { createdAt: -1 },
          $limit: 25,
          $skip: 0
        }
      }).then(function(res) {
        console.log(res);
        $('#out').html(JSON.stringify(res));
      }).catch(function(err){
        console.log(err);
      });
    */

    
    /*
    invoiceService.create({
        amount: '100',
        to: '9987654321',
    })
    .then(res => console.log(res))
    .catch(err => console.log(err));
    
  }).catch(error => {
    console.error('Error authenticating!', error);
  });
  */

});
</script>

